COMPILE;
DIRECTORY MASTER;
/********************************************************
*	vid-hdl						*
*	2/11/88						*
********************************************************/

/*
This module is the video block within the SLIPSTREAM chip on the ACW
*/




MODULE VID;

INPUTS	A_0,A_1,A_2,A_3,A_4,A_5,A_6,A_7,A_8,A_9,A_10,A_11,A_12,A_13,A_14,A_15,
   A_16,A_17,A_18,A_19,D_0,D_1,D_2,D_3,D_4,D_5,D_6,D_7,D_8,D_9,D_10,D_11,D_12,
   D_13,D_14,D_15,PD_0,PD_1,PD_2,PD_3,PD_4,PD_5,PD_6,PD_7,PD_8,PD_9,PD_10,PD_11,
   PD_12,PD_13,PD_14,PD_15,VADL_0,VADL_1,VADL_2,VADL_3,VADL_4,VADL_5,VADL_6,
   VADL_7,VAL_8,VAL_9,VAL_10,VAL_11,VAL_12,VAL_13,VAL_14,VAL_15,VDL_8,VDL_9,
   VDL_10,VDL_11,VDL_12,VDL_13,VDL_14,VDL_15,VRD,VWR,VLOCK,HLOCK,PALL,PSRAML,
   ASL_16,ASL_17,ASL_18,ASL_19,RESETL_0,IOML,ALEL,INTAL,BMREQ,DMREQ,HLDAL,XTALL,
   AIL_0,AIL_1,AIL_2,LP,BHOLDL,BWORD,DWORD,FASTL,BRD,DRD,BWR,DWR,CCLK;
OUTPUTS	A_0,A_1,A_2,A_3,A_4,A_5,A_6,A_7,A_8,A_9,A_10,A_11,A_12,A_13,A_14,A_15,
   A_16,A_17,A_18,A_19,D_0,D_1,D_2,D_3,D_4,D_5,D_6,D_7,D_8,D_9,D_10,D_11,D_12,
   D_13,D_14,D_15,PD_0,PD_1,PD_2,PD_3,PD_4,PD_5,PD_6,PD_7,PD_8,PD_9,PD_10,PD_11,
   PD_12,PD_13,PD_14,PD_15,VAD_0,VAD_1,VAD_2,VAD_3,VAD_4,VAD_5,VAD_6,VAD_7,ADEN,
   VAL_0,VAL_1,VAL_2,VAL_3,VAL_4,VAL_5,VAL_6,VAL_7,VA_8,VA_9,VA_10,VA_11,VA_12,
   VA_13,VA_14,VA_15,AEN,VAL_16,VAL_17,DEN,VD_8,VD_9,VD_10,VD_11,VD_12,VD_13,
   VD_14,VD_15,VRDL,VWRL,INTL,VSYNC,HSYNC,TESTENL,PCLKL,HOLDL,SCE_0,SCE_1,WE,
   DWE,CS_0,CS_1,RL_0,RL_1,RL_2,RL_3,GL_0,GL_1,GL_2,GL_3,BL_0,BL_1,BL_2,BL_3,
   CHROMAL,JOYL_0,JOYL_1,JOYL_2,OE,CAS,IORDL,IOWRL,BCSL,DCSL,ICCLK,WAITL,RDL,
   WRL,PA_0,PA_1,PA_2,PA_3,PA_4,PA_5,PA_6,PA_7,POE,PWE,PCS,MO,INCL,DOEN,GPIOL_0,
   GPIOL_1,DQCLK;
LEVEL FUNCTION;
DEFINE

/* Clock generator */

CLOCK_(PCLKL,ICCLK,CHROMAL,DQCLK) = CLOCK(XTALL,VRD,VWR,NTSC,FAST,TSTCLK,LP);

/* IO decodes */

IODEC_(IORDL,IOWRL,BCSL,JOYL_0,JOYL_1,JOYL_2,SSIORD,INTLLD,INTH,STARTL,STARTH,
   HCNTL,HCNTH,VCNTL,VCNTH,SCRL_0,SCRL_1,SCRL_2,MODE,BORDL,BORDH,TRANS,MASK,
   INDEX,ENDL,ENDH,MEMLD,DIAGL_0,DIAG_1,LPL_0,LPL_1,LPL_2,LPL_3,STATL,LCD,ACK,
   DIS,GPIOL_0,GPIOL_1) = IODEC(RESETL_0,CCLK,IOML,VRD,VWR,A_0,A_1,A_2,A_3,A_4,
   A_5,A_6,A_7);

/* Bus manager */


BM_(A_0,A_1,A_2,A_3,A_4,A_5,A_6,A_7,A_8,A_9,A_10,A_11,A_12,A_13,A_14,A_15,A_16,
   A_17,A_18,A_19,D_0,D_1,D_2,D_3,D_4,D_5,D_6,D_7,D_8,D_9,D_10,D_11,D_12,D_13,
   D_14,D_15,VAD_0,VAD_1,VAD_2,VAD_3,VAD_4,VAD_5,VAD_6,VAD_7,ADEN,VAL_0,VAL_1,
   VAL_2,VAL_3,VAL_4,VAL_5,VAL_6,VAL_7,VA_8,VA_9,VA_10,VA_11,VA_12,VA_13,VA_14,
   VA_15,AEN,VAL_16,VAL_17,DEN,VD_8,VD_9,VD_10,VD_11,VD_12,VD_13,VD_14,VD_15,
   VRDL,VWRL,HOLDL,WD_0,WD_1,WD_2,WD_3,WD_4,WD_5,WD_6,WD_7,PALCS,DCSL,RDL,
   WRL) = BM(A_0,A_1,A_2,A_3,A_4,A_5,A_6,A_7,A_8,A_9,A_10,A_11,A_12,A_13,A_14,
   A_15,A_16,A_17,A_18,A_19,D_0,D_1,D_2,D_3,D_4,D_5,D_6,D_7,D_8,D_9,D_10,D_11,
   D_12,D_13,D_14,D_15,RESETL_0,VADL_0,VADL_1,VADL_2,VADL_3,VADL_4,VADL_5,
   VADL_6,VADL_7,VAL_8,VAL_9,VAL_10,VAL_11,VAL_12,VAL_13,VAL_14,VAL_15,VDL_8,
   VDL_9,VDL_10,VDL_11,VDL_12,VDL_13,VDL_14,VDL_15,VRD,VWR,ASL_16,ASL_17,ASL_18,
   ASL_19,IOML,ALEL,INTAL,HLDAL,BHOLDL,BWORD,DWORD,VHOLDL,SSIORD,JOYL_0,JOYL_1,
   SA_0,SA_1,SA_2,SA_3,SA_4,SA_5,SA_6,SA_7,SA_8,SA_9,SA_10,SA_11,SA_12,SA_13,
   SA_14,SA_15,SA_16,SA_17,SAEN,MUXL,BRD,DRD,BWR,DWR);


/* Memory timing generator */


MEM_(CAS,MUXL,WAITL,SCE_0,SCE_1,WE,DWE,CS_0,CS_1,OE) = MEM(RESETL_0,CCLK,DQCLK,
   BMREQ,DMREQ,HLDAL,RDL,WRL,IOML,A_0,A_18,A_19,VBUSYL_0,VBUSYL_1,VCS,VOE,VCAS,
   VRAS,WD_0,WD_1,WD_2,WD_3,MEMLD,PSUEDO,BWORD,DWORD);


/* Video timing generator */


VTIM_(VBUSYL_0,VBUSYL_1,VCS,VOE,VCAS,VRAS,SAEN,SA_0,SA_1,SA_2,SA_3,SA_4,SA_5,
   SA_6,SA_7,SA_8,SA_9,SA_10,SA_11,SA_12,SA_13,SA_14,SA_15,SA_16,SA_17,VHOLDL,
   PIXLD_0,PIXLD_1,PIXAD_0,PIXAD_1) = VTIM(RESETL_0,CCLK,WD_0,WD_1,WD_2,WD_3,
   WD_4,WD_5,WD_6,WD_7,MODE_0,MODE_1,SCRL_0,SCRL_1,SCRL_2,VVACTIVE,HVACTIVE,
   VSTART,HC_0,HC_1,HC_2,HC_3,HD1,PSUEDO,HVHOLD,NOWRAP);


/* Horizontal Timebase */


HCNT_(D_0,D_1,D_2,D_3,D_4,D_5,D_6,D_7,HVACTIVE,HSYNC,HC_0,HC_1,HC_2,HC_3,
   HBORDER,HBLANKING,HVSYNC,LPSET,LPCLK,HD1,HVHOLD,HINT) = HCNT(D_0,D_1,D_2,D_3,
   D_4,D_5,D_6,D_7,RESETL_0,CCLK,WD_0,WD_1,WD_2,WD_3,WD_4,WD_5,WD_6,WD_7,HCNTL,
   HCNTH,LPL_0,LPL_1,LP,HLOCK,NTSC,GENLOCK,OPEN,NEXTV);


/* Vertical Timebase */

VCNT_(D_0,D_1,D_2,D_3,D_4,D_5,D_6,D_7,VVACTIVE,VSYNC,VINT,BORDER,BLANKING,
   VSTART,NEXTV) = VCNT(D_0,D_1,D_2,D_3,D_4,D_5,D_6,D_7,RESETL_0,CCLK,WD_0,WD_1,
   WD_2,WD_3,WD_4,WD_5,WD_6,WD_7,VCNTL,VCNTH,LPL_2,LPL_3,VLOCK,NTSC,GENLOCK,
   STARTL,STARTH,ENDL,ENDH,INTLLD,INTH,HBORDER,HBLANKING,HVSYNC,LPCLK,HD1,VCEN,
   LORES,HINT);


/* Pixel generator */


PIX_(D_0,D_1,D_2,D_3,D_4,D_5,D_6,D_7,PD_0,PD_1,PD_2,PD_3,PD_4,PD_5,PD_6,PD_7,
   PD_8,PD_9,PD_10,PD_11,PD_12,PD_13,PD_14,PD_15,RL_0,RL_1,RL_2,RL_3,GL_0,GL_1,
   GL_2,GL_3,BL_0,BL_1,BL_2,BL_3,INCL,MODE_0,MODE_1,GENLOCK,LORES,NOWRAP,PA_0,
   PA_1,PA_2,PA_3,PA_4,PA_5,PA_6,PA_7,POE,PWE,PCS) = PIX(D_0,D_1,D_2,D_3,D_4,
   D_5,D_6,D_7,PD_0,PD_1,PD_2,PD_3,PD_4,PD_5,PD_6,PD_7,PD_8,PD_9,PD_10,PD_11,
   PD_12,PD_13,PD_14,PD_15,RESETL_0,CCLK,WD_0,WD_1,WD_2,WD_3,WD_4,WD_5,WD_6,
   WD_7,MODE,BORDL,BORDH,TRANS,MASK,INDEX,BORDER,BLANKING,HC_0,HC_1,A_0,A_1,A_2,
   A_3,A_4,A_5,A_6,A_7,A_8,RDL,WRL,WE,PALCS,PIXLD_0,PIXLD_1,PIXAD_0,PIXAD_1,
   TMODE,VADL_0,VADL_1,VADL_2,VADL_3,VADL_4,VADL_5,VADL_6,VADL_7,VDL_8,VDL_9,
   VDL_10,VDL_11,VDL_12,VDL_13,VDL_14,VDL_15);


/* Interupt handler */

INT_(D_0,D_1,D_2,D_3,D_4,D_5,D_6,D_7,INTL) = INT(D_0,D_1,D_2,D_3,D_4,D_5,D_6,
   D_7,RESETL_0,CCLK,VINT,AIL_0,AIL_1,AIL_2,INTAL,ACK,WD_0,WD_1,WD_2,WD_3,DIS);


/* Status and diagnostic */

STAT_(D_0,D_1,D_2,D_3,D_4,D_5,D_6,D_7,OPEN,NTSC,TESTENL,PSUEDO,VCEN,TMODE,FAST,
   TSTCLK,MO,DOEN) = STAT(D_0,D_1,D_2,D_3,D_4,D_5,D_6,D_7,RESETL_0,WD_0,WD_1,
   WD_2,WD_3,WD_4,STATL,DIAGL_0,DIAG_1,LCD,LPSET,PALL,PSRAML,FASTL,XTALL);


END MODULE;
END COMPILE;
END;
